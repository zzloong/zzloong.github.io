---
title: åˆè¯† Git åŸºæœ¬å‘½ä»¤ merge å’Œ rebase
date: 2020-06-21 23:21:24
tags: [Git]
categories: ToolsDev
keywords:
---

![green-leaf-merge-git](https://gitee.com/michael_xiang/images/raw/master/uPic/green-leaf-merge-git.jpg)

## å‰è¨€

Git ä¸­çš„åˆ†æ”¯åˆå¹¶æ˜¯ä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚

- ä»“åº“çš„ bugfix åˆ†æ”¯ä¿®å¤å®Œ bug ä¹‹åï¼Œè¦å›åˆåˆ°ä¸»å¹²åˆ†æ”¯ï¼Œè¿™æ—¶å€™ä¸¤ä¸ªåˆ†æ”¯éœ€è¦åˆå¹¶ï¼› 
- è¿œç«¯ä»“åº“çš„åˆ†æ”¯ A æœ‰å…¶ä»–å°ä¼™ä¼´åˆå…¥äº†ä»£ç ï¼Œè¿™æ—¶å€™ï¼Œä½ éœ€è¦å’Œè¿œç«¯ä»“åº“çš„åˆ†æ”¯ A è¿›è¡Œåˆå¹¶ï¼›

ä»¥ä¸Šåªæ˜¯åˆ—ä¸¾äº†åˆ†æ”¯åˆå¹¶çš„ä¸€äº›å¸¸è§åœºæ™¯ï¼Œå…³äº `merge` å’Œ `rebase` å‘½ä»¤ä½ è¶³å¤Ÿäº†è§£å—ï¼Ÿ

<!-- more -->

## HEAD çš„ç†è§£

åœ¨ä»‹ç»æœ¬æ–‡çš„ä¸»è¦å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç†è§£ä¸€ä¸‹ `HEAD` ã€‚

`HEAD` æŒ‡å‘**å½“å‰æ‰€åœ¨çš„åˆ†æ”¯**ï¼Œç±»ä¼¼ä¸€ä¸ªæ´»åŠ¨çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºä¸€ä¸ªã€Œå¼•ç”¨ã€ã€‚ä¾‹å¦‚å½“å‰åœ¨ `develop` åˆ†æ”¯ï¼Œ`HEAD` å†…å®¹å°±æ˜¯ `ref: refs/heads/develop`ã€‚

`HEAD` æ—¢å¯ä»¥æŒ‡å‘ã€Œå½“å‰åˆ†æ”¯ã€çš„æœ€æ–° `commit`ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘å†å²ä¸­çš„æŸä¸€æ¬¡ `commit` (ã€Œåˆ†ç¦»å¤´æŒ‡é’ˆã€çš„æƒ…å†µ)ã€‚å½’æ ¹ç»“åº•ï¼Œ`HEAD` æŒ‡å‘çš„å°±æ˜¯æŸä¸ªæäº¤ç‚¹ã€‚

å½“æˆ‘ä»¬åšåˆ†æ”¯åˆ‡æ¢æ—¶ï¼Œ`HEAD` ä¼šè·Ÿç€åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯ã€‚

## fast-forward ä¸ --no-ff çš„åŒºåˆ«

å‡å¦‚æœ‰ä¸€ä¸ªåœºæ™¯ï¼šæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œmaster åˆ†æ”¯å’Œ feature åˆ†æ”¯ã€‚ç°åœ¨ï¼Œfeautre åˆ†æ”¯éœ€è¦åˆå¹¶å› master åˆ†æ”¯ã€‚

![fast-forward-åˆå§‹çŠ¶æ€](https://gitee.com/michael_xiang/images/raw/master/uPic/wOR7JK.png)

`fast-forward` åˆå¹¶æ–¹å¼æ˜¯**æ¡ä»¶å…è®¸**çš„æƒ…å†µï¼Œé€šè¿‡å°† master åˆ†æ”¯çš„ HEAD ä½ç½®ç§»åŠ¨åˆ° feature åˆ†æ”¯çš„æœ€æ–°æäº¤ç‚¹ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†å¿«é€Ÿåˆå¹¶ã€‚è¿™ç§æƒ…å†µï¼Œæ˜¯ä¸ä¼šæ–°ç”Ÿæˆ commit çš„ã€‚

![fast-forward](https://gitee.com/michael_xiang/images/raw/master/uPic/QpdH5g.png)

`--no-ff` çš„æ–¹å¼è¿›è¡Œåˆå¹¶ï¼Œmaster åˆ†æ”¯å°±ä¼šæ–°ç”Ÿæˆä¸€æ¬¡æäº¤è®°å½•ã€‚

![--no-ff](https://gitee.com/michael_xiang/images/raw/master/uPic/BIqlQW.png)

> å¦‚æœæ¡ä»¶æ»¡è¶³æ—¶ï¼Œmerge é»˜è®¤é‡‡ç”¨çš„ `fast-forward` æ–¹å¼è¿›è¡Œåˆå¹¶ï¼Œé™¤éä½ æ˜¾ç¤ºçš„åŠ ä¸Š `--no-ff` é€‰é¡¹ï¼›è€Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œmerge ä¹Ÿæ˜¯æ— æ³•ä½¿ç”¨ `fast-forward` åˆå¹¶æˆåŠŸçš„ï¼

## merge æ“ä½œ

ä¸Šé¢ç”¨å›¾è§£çš„æ–¹å¼ä»‹ç»äº† `fast-forward` å’Œ `--no-ff` çš„åŒºåˆ«ã€‚ä¸‹é¢ï¼Œç»“åˆå®é™…çš„ä»£ç ä»“è¿›è¡Œåˆå¹¶æ“ä½œï¼Œä¸¾å‡ ä¸ªæ —å­ç†è§£ä¸€ä¸‹ã€‚

> `git merge` æ“ä½œæ˜¯åŒºåˆ†ä¸Šä¸‹æ–‡çš„ã€‚**å½“å‰åˆ†æ”¯å§‹ç»ˆæ˜¯ç›®æ ‡åˆ†æ”¯**ï¼Œå…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†æ”¯å§‹ç»ˆåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚è¿™ä¸ªæ³¨æ„ç‚¹è®°ä½äº†ï¼Œæ–¹ä¾¿è®°å¿†ï¼æ‰€ä»¥ï¼Œå½“éœ€è¦å°†æŸä¸ªåˆ†æ”¯åˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯æ—¶ï¼Œéœ€è¦å…ˆåˆ‡åˆ°ç›®æ ‡åˆ†æ”¯ä¸Šã€‚

### fast-forward åˆå¹¶

åˆšåˆšä¸€ç›´åœ¨å¼ºè°ƒæ¡ä»¶å…è®¸çš„æ—¶å€™ï¼Œ`fast-forward` æ‰èƒ½åˆå¹¶æˆåŠŸã€‚æ¡ä»¶æŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

å…¶å®æŒ‡çš„æ˜¯æºåˆ†æ”¯å’Œç›®æ ‡åˆ†æ”¯ä¹‹é—´æ²¡æœ‰åˆ†å‰ï¼ˆå•è¯ `diverge`ï¼‰ï¼Œè¿™ç§æƒ…å†µæ‰å¯ä»¥è¿›è¡Œå¿«é€Ÿåˆå¹¶ã€‚å¦‚æœæ˜¯ä¸‹å›¾ä¸­çš„åœºæ™¯ï¼Œæ— æ³•é€šè¿‡ HEAD çš„å¿«é€Ÿç§»åŠ¨å®ç°åˆ†æ”¯çš„åˆå¹¶ï¼

![åˆ†å‰](https://gitee.com/michael_xiang/images/raw/master/uPic/RQ39Rv.png)

ä¸‹é¢è¿›è¡Œä¸€ä¸ªä¸åˆ†å‰çš„åœºæ™¯çš„ç¤ºä¾‹ï¼š

![featuren åˆ†æ”¯çš„åˆå§‹çŠ¶æ€](https://gitee.com/michael_xiang/images/raw/master/uPic/A87zPe.png)

ç°åœ¨éœ€è¦å°† feature åˆ†æ”¯åˆå…¥åˆ° master åˆ†æ”¯ï¼Œé»˜è®¤ä½¿ç”¨ `fast-forward` æ–¹å¼ï¼š

```
# åˆ‡åˆ°ç›®æ ‡åˆ†æ”¯
git checkout master
git merge feature
```

å‘½ä»¤è¡Œé‡Œæ˜¾ç¤ºäº† `Fast-forward` çš„æç¤ºï¼š

![åˆå…¥æ•ˆæœ](https://gitee.com/michael_xiang/images/raw/master/uPic/J0Zku9.png)

çœ‹ä¸€çœ¼ master åˆ†æ”¯åˆå…¥çš„å‰åå¯¹æ¯”ï¼ˆæ³¨æ„ HEAD çš„ä½ç½®ï¼‰ï¼š

![master åˆ†æ”¯åˆå…¥å‰](https://gitee.com/michael_xiang/images/raw/master/uPic/KmsbrV.png)

![master åˆ†æ”¯åˆå…¥å](https://gitee.com/michael_xiang/images/raw/master/uPic/M9PM7Q.png)

### no-ff åˆå¹¶

ä¸åˆ†å‰çš„åœºæ™¯æ˜¯å¦å¯ä»¥å¼ºåˆ¶é‡‡ç”¨ `--no-ff` æ–¹å¼åˆå¹¶å‘¢ï¼Ÿå¯ä»¥ï¼

```shell
# master å›åˆ°åˆå…¥å‰çš„çŠ¶æ€
git reset --hard d2fa1ae
git merge feature --no-ff
```

![no-ff](https://gitee.com/michael_xiang/images/raw/master/uPic/LTzh9p.png)

è¿™æ¬¡å‘½ä»¤è¡Œæ²¡æœ‰ `Fast-forward` çš„æç¤ºäº†ã€‚

çœ‹ä¸€çœ¼ master åˆ†æ”¯å›¾ï¼š

![no-ff](https://gitee.com/michael_xiang/images/raw/master/uPic/Sklh3v.png)

è¿™ä¸ªå›¾å’Œä¸Šé¢è®²è§£ `no-ff` å‘½ä»¤æ—¶çš„ç¤ºæ„å›¾ä¸€è‡´ï¼Œæœç„¶ä¼šæœ‰æ–° `commit` ç”Ÿæˆã€‚

### åˆ†å‰åœºæ™¯çš„åˆå¹¶

![åˆ†å‰](https://gitee.com/michael_xiang/images/raw/master/uPic/X69y67.png)

ä¸Šé¢çš„å›¾å±•ç¤ºäº†æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªåœºæ™¯ï¼Œç‰¹æ€§åˆ†æ”¯åˆ›å»ºä¹‹åï¼Œæºåˆ†æ”¯ä¹Ÿä¼šæœ‰æ–°çš„æäº¤ã€‚è¿™å°±æ˜¯å½¢æˆåˆ†å‰äº†ã€‚

è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬è¿›è¡Œåˆå¹¶å‘¢ï¼Ÿ

```
git merge feautre
```

![åˆ†æ”¯å›¾](https://gitee.com/michael_xiang/images/raw/master/uPic/g9NjTO.png)

å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶é»˜è®¤ä¼šå°è¯• `fast-forward` çš„æ–¹å¼è¿›è¡Œåˆå¹¶ï¼Œä½†æ˜¯å› ä¸ºåˆ†å‰äº†ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šé‡‡ç”¨ `no-ff` çš„æ–¹å¼è¿›è¡Œåˆå¹¶ï¼æœ‰æ–°çš„ `commit` ç”Ÿæˆäº†ï¼

> fast-forward æ–¹å¼å¯¹åº”çš„åˆå¹¶å‚æ•°æ˜¯ `--ff`

æˆ‘ä»¬è¯•è¯•è¿™ä¸ªå‚æ•° `--ff-only`ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¼ºåˆ¶åªä½¿ç”¨ `ff` æ–¹å¼è¿›è¡Œåˆå¹¶ï¼š

```
# å›åˆ°åˆå¹¶å‰
git reset --hard 3793081
git merge feature --ff-only
```

![åˆå¹¶ç»ˆæ­¢](https://gitee.com/michael_xiang/images/raw/master/uPic/yIaYHq.png)

ç»è¿‡æµ‹è¯•ï¼Œå½“åˆ†å‰æ—¶ï¼Œå› ä¸ºæ— æ³•ä½¿ç”¨ `ff` æ–¹å¼åˆå¹¶ï¼Œå³ä½¿ä½ å¼ºåˆ¶æŒ‡å®šä½¿ç”¨è¯¥æ–¹å¼åˆå¹¶ä¹Ÿä¸è¡Œï¼Œä¼šæç¤ºç»ˆæ­¢ï¼

é™„ä¸Š Git å®˜æ–¹æ–‡æ¡£ä¸­çš„è§£é‡Šï¼Œæ–¹ä¾¿ç†è§£ï¼š

```shell
With --ff, when possible resolve the merge as a fast-forward (only update the branch pointer to match the merged branch; do not create a merge commit). When not possible (when the merged-in history is not a descendant of the current history), create a merge commit.
```

## rebase æ“ä½œ

`rebase` å‘½ä»¤æ˜¯ä¸€ä¸ªç»å¸¸å¬åˆ°ï¼Œä½†æ˜¯å¤§å¤šæ•°äººæŒæ¡åˆä¸å¤ªå¥½çš„ä¸€ä¸ªå‘½ä»¤ã€‚`rebase` åˆå¹¶å¾€å¾€åˆè¢«ç§°ä¸º ã€Œå˜åŸºã€ï¼Œæˆ‘ç§°ä¸º ã€ŒåŸºåŒ–ã€ğŸ¤£ã€‚ã€ŒåŸºã€çš„ç†è§£å¾ˆé‡è¦ï¼Œç†è§£äº†å®ƒï¼Œå…¶å® `rebase` å‘½ä»¤ä½ å°±æŒæ¡äº†ã€‚

æˆ‘çš„æè¿°å¯èƒ½å¹¶ä¸å‡†ç¡®ï¼Œåªæ˜¯ä¸ºäº†èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£ã€‚è¿™é‡Œçš„ã€ŒåŸºã€å°±æ˜¯ä¸€ä¸ªã€ŒåŸºç‚¹ã€ã€ã€Œèµ·ç‚¹ã€çš„æ„æ€ã€‚ã€Œå˜åŸºã€å°±æ˜¯æ”¹å˜å½“å‰åˆ†æ”¯çš„èµ·ç‚¹ã€‚**æ³¨æ„ï¼Œæ˜¯å½“å‰åˆ†æ”¯ï¼** `rebase` å‘½ä»¤åé¢ç´§æ¥ç€çš„å°±æ˜¯ã€ŒåŸºåˆ†æ”¯ã€ã€‚

å˜åŸºå‰ï¼š

![åˆ†å‰](https://gitee.com/michael_xiang/images/raw/master/uPic/RQ39Rv.png)

`git reabse master feature` å˜åŸºåï¼š

![å˜åŸºå](https://gitee.com/michael_xiang/images/raw/master/uPic/HepjTM.png)

> git rebase å‘½ä»¤é€šå¸¸ç§°ä¸ºå‘å‰ç§»æ¤ï¼ˆ`forward porting`ï¼‰ã€‚

### å˜åŸºæäº¤ç¤ºä¾‹

æˆ‘ä»¬æ¥ä¸‹æ¥è¿›è¡Œå®é™…çš„æµ‹è¯•ï¼Œå°†ä»£ç åº“çŠ¶æ€æ„é€ æˆåˆ†å‰çš„çŠ¶æ€ï¼ŒçŠ¶æ€å›¾å¦‚ä¸‹ï¼š

![åˆ†å‰åˆå§‹çŠ¶æ€](https://gitee.com/michael_xiang/images/raw/master/uPic/o9hGJa.png)

ä»¥ master åˆ†æ”¯ä¸ºåŸºï¼Œå¯¹ feautre åˆ†æ”¯è¿›è¡Œå˜åŸºï¼š

```
git checout feature
git rebase master
```

ä»¥ä¸Šä¸¤è¡Œå‘½ä»¤ï¼Œå…¶å®å¯ä»¥ç®€å†™ä¸ºï¼š`git rebase master feature`

> ç‰¹æ€§åˆ†æ”¯ feature å‘å‰ç§»æ¤åˆ°äº† master åˆ†æ”¯ã€‚ç»å¸¸ä½¿ç”¨ git rebase æ“ä½œæŠŠæœ¬åœ°å¼€å‘åˆ†æ”¯ç§»æ¤åˆ°è¿œç«¯çš„ `origin/<branch>` è¿½è¸ªåˆ†æ”¯ä¸Šã€‚ä¹Ÿå°±æ˜¯ç»å¸¸è¯´çš„ï¼Œã€ŒæŠŠä½ çš„è¡¥ä¸å˜åŸºåˆ° xxx åˆ†æ”¯çš„å¤´ã€

![å˜åŸºå](https://gitee.com/michael_xiang/images/raw/master/uPic/8jMmax.png)

å¯ä»¥å‘ç°ï¼Œåœ¨ master åˆ†æ”¯çš„æœ€æ–°èŠ‚ç‚¹ï¼ˆ`576cb7b`ï¼‰åé¢å¤šäº† 2 ä¸ªæäº¤ï¼ˆç”Ÿæˆäº†æ–°çš„æäº¤è®°å½•ï¼Œä»…ä»…æäº¤ä¿¡æ¯ä¿æŒä¸€è‡´ï¼‰ï¼Œè€Œè¿™ä¸¤ä¸ªæäº¤å†…å®¹å°±æ˜¯æ¥è‡ªå˜åŸºå‰  feature åˆ†æ”¯ï¼Œfeature åˆ†æ”¯çš„æäº¤å†å²å‘ç”Ÿäº†æ”¹å˜ã€‚

è§‚å¯Ÿä¸Šå›¾è¿˜å¯ä»¥å‘ç°ï¼Œå˜åŸºåï¼Œæ”¹å˜çš„åªæ˜¯ feature åˆ†æ”¯ï¼ŒåŸºåˆ†æ”¯ï¼ˆmaster åˆ†æ”¯ï¼‰çš„ HEAD æŒ‡é’ˆä¾ç„¶åœ¨ä¹‹å‰çš„ commit ï¼ˆ`576cb7b`ï¼‰å¤„ã€‚è¿™æ—¶å€™è¦å°† feature åˆ†æ”¯åˆå…¥åˆ° master åˆ†æ”¯ä¸Šï¼Œå°±æ»¡è¶³ `fast-forward` çš„æ¡ä»¶äº†ï¼Œ`master` åˆ†æ”¯æ‰§è¡Œå¿«é€Ÿåˆå¹¶ï¼Œå°† HEAD æŒ‡é’ˆæŒ‡å‘åˆšåˆšæœ€æ–°åˆå…¥çš„æäº¤ç‚¹ï¼š

```
git checkout master
git merge feature
```

![å¿«é€Ÿåˆå¹¶](https://gitee.com/michael_xiang/images/raw/master/uPic/BUiz44.png)

çœ‹ä¸‹å›¾ master åˆ†æ”¯å›¾ï¼Œè§‚å¯Ÿ HEAD æŒ‡é’ˆçš„ä½ç½®ï¼š
![åˆ†æ”¯å›¾](https://gitee.com/michael_xiang/images/raw/master/uPic/dgYPmX.png)

rebase å˜åŸºæ“ä½œæœ€é€‚åˆçš„æ˜¯æœ¬åœ°åˆ†æ”¯å’Œè¿œç«¯å¯¹åº”è·Ÿè¸ªåˆ†æ”¯ä¹‹é—´çš„åˆå¹¶ã€‚è¿™æ ·ç†è§£å¯èƒ½ä¼šæ›´æ¸…æ™°ä¸€ç‚¹ã€‚æ¯”å¦‚ï¼Œè¿œç«¯ä»“åº“é‡Œæœ‰ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯ featureï¼Œé™¤äº†ä½ å¼€å‘ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–äººå¾€è¿™ä¸ªåˆ†æ”¯è¿›è¡Œåˆå…¥ã€‚å½“ä½ æ¯æ¬¡å‡†å¤‡æäº¤åˆ°è¿œç«¯ä¹‹å‰ï¼Œå…¶å®å¯ä»¥å°è¯•å˜åŸºï¼Œè¿™æ—¶å€™åŸºåˆ†æ”¯å°±æ˜¯è¿œç«¯çš„è¿½è¸ªåˆ†æ”¯ã€‚

ä¸‹å›¾æ˜¯ä»“åº“çš„åˆ†æ”¯å›¾ï¼š

![ä¸è¿œç«¯åˆ†æ”¯åˆ†å‰](https://gitee.com/michael_xiang/images/raw/master/uPic/PDdv1I.png)

```
git fetch
git rebase origin/feature feature
```

![å˜åŸºå](https://gitee.com/michael_xiang/images/raw/master/uPic/UBCOSo.png)

è§‚å¯Ÿä¸Šå›¾ï¼Œæˆ‘ä»¬æœ¬åœ°çš„æäº¤ä»¥è¿œç«¯åˆ†æ”¯çš„æœ€æ–°æäº¤ä¸ºã€ŒåŸºã€ï¼Œå°†å·®å¼‚æäº¤é‡æ–°è¿›è¡Œäº†æäº¤ï¼è¿œç«¯åˆ†æ”¯çš„æäº¤è®°å½•ä¾ç„¶æ˜¯ä¸€æ¡ç›´çº¿~å¦‚æœåˆ†å‰çš„æƒ…å†µï¼Œä¸é‡‡ç”¨è¿™ç§ã€Œå˜åŸºæ“ä½œã€ï¼Œè€Œç›´æ¥é‡‡ç”¨ `merge` çš„æ–¹å¼åˆå¹¶ï¼Œå°±ä¼šæœ‰å¦‚ä¸‹è¿™ç§åˆ†æ”¯æäº¤å›¾ï¼š

![no-ff åˆå¹¶](https://gitee.com/michael_xiang/images/raw/master/uPic/hkVfzT.png)

å› ä¸ºåˆ†å‰äº†ï¼Œé‡‡ç”¨ `git pull` æ—¶é»˜è®¤ä¹Ÿæ²¡æ³• `fast-forward` åˆå¹¶ï¼Œåªèƒ½é‡‡ç”¨ `no-ff` æ–¹å¼åˆå¹¶ï¼Œæœ€åçš„æäº¤å†å²å°±ä¼šåƒä¸Šå›¾é‚£æ ·ã€‚ä¼šäº§ç”Ÿä¸€ä¸ªåˆå¹¶æäº¤ã€‚åŒæ—¶ï¼Œåˆ†æ”¯å›¾ä¹Ÿæ˜¾å¾—ç¨å¾®æ‚ä¹±äº†ä¸€ç‚¹ï¼Œå› ä¸º feature åˆ†æ”¯ä¸æ˜¯ä¸€æ¡ç›´çº¿äº†ã€‚ä½†æ˜¯ï¼Œå…¶å®ä¹Ÿæœ‰å¥½å¤„ï¼Œå¯ä»¥å®é™…çš„çœ‹å‡ºæ¥åˆå¹¶çš„æäº¤å†å²ã€‚è¯¥é€‰æ‹©å“ªä¸ªï¼Œå¾€å¾€å–å†³äºå›¢é˜Ÿçš„é€‰æ‹©ç­–ç•¥ã€‚

> å…»æˆä¹ æƒ¯ï¼Œä½¿ç”¨ `git pull --rebase` æ–¹å¼åŒæ­¥è¿œç«¯åˆ†æ”¯ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ä¹ æƒ¯ï¼Œè¿™æ ·ï¼Œå°±ä¸ä¼šå¤šå‡ºå¤šä½™çš„ commit è®°å½•äº†ã€‚å…·ä½“å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  [åšå®¢å›­/èŠä¸‹git pull --rebase](https://www.cnblogs.com/wangiqngpei557/p/6056624.html)

### rebase æ€»ç»“

`rebase` å‘½ä»¤å…¶å®å…³é”®åœ¨äºç†è§£ã€ŒåŸºã€ï¼Œ`git rebase <åŸºåˆ†æ”¯>`ï¼Œå°±æ˜¯å°†å½“å‰åŸºåˆ†æ”¯ä¸å½“å‰åˆ†æ”¯çš„å·®å¼‚æäº¤è·å–åˆ°ï¼Œç„¶ååœ¨ã€ŒåŸºåˆ†æ”¯ã€æœ€æ–°æäº¤ç‚¹åé¢å°†å·®å¼‚æäº¤é€ä¸ªå†æ¬¡æäº¤ï¼Œæœ€åå°†å½“å‰åˆ†æ”¯çš„ HEAD æŒ‡é’ˆæŒ‡å‘æœ€æ–°çš„æäº¤ç‚¹ã€‚

ã€ŒåŸºåˆ†æ”¯ã€çš„ HEAD ä½ç½®æ˜¯ä¸å˜çš„ã€‚è¦æƒ³å®Œæˆåˆ†æ”¯åˆå¹¶ï¼Œå®Œæˆå˜åŸºä¹‹åï¼Œéœ€è¦å†è¿›è¡Œåˆ†æ”¯é—´çš„åˆå¹¶ç­‰æ“ä½œã€‚

rebase å‘½ä»¤çš„ç”¨æ³•ä¹Ÿä¸æ­¢äºæ­¤ï¼Œè®¡åˆ’åæœŸä¼šä¸“é—¨å†™ä¸€ç¯‡ä»‹ç»å¥¹çš„æ–‡ç« ã€‚æœ¬æ–‡æœ¬æ¥æ˜¯è®¡åˆ’ä»‹ç» merge å‘½ä»¤çš„ï¼Œä½†æ˜¯åˆå¹¶çš„æ–¹å¼ä¸­ï¼Œå…¶å®ä¹Ÿç»å¸¸æ¶‰åŠå˜åŸºæ“ä½œä¹‹åçš„åˆå¹¶ï¼Œå› æ­¤ï¼Œå¹²è„†å°±æ”¾ä¸€èµ·æ¯”è¾ƒå¥½äº†ï¼Œè¿™æ ·æ˜“äºç†è§£è®°å¿†ã€‚ 

## è¡¥å……

- `git merge --abort` å½“åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå†²çªéš¾è§£å†³ï¼Œä½ æƒ³æ”¾å¼ƒåˆå¹¶ï¼Œå›åˆ°æœªåˆå¹¶ä¹‹å‰çš„çŠ¶æ€ï¼›
- `git log --graph --pretty=oneline --abbrev-commit` å¯ä»¥åœ¨å‘½ä»¤è¡Œæ–¹ä¾¿åœ°æŸ¥çœ‹æäº¤å›¾

## ä¸€è¨€

åœ¨ Git è¿™ä¸ªä¸“è¾‘é‡Œæœ‰ä¸€ç¯‡ä»‹ç» cherry-pick çš„æ–‡ç« ï¼Œæœ‰ä¸ªå°ä¼™ä¼´ç»™äº†å¦‚ä¸‹çš„ç•™è¨€ï¼Œè¯´æ˜è‡ªå·±åˆ†äº«çš„å†…å®¹è·å¾—äº†è‚¯å®šï¼Œæ¬£æ…°å•Šï¼

![ç•™è¨€](https://gitee.com/michael_xiang/images/raw/master/uPic/vhpyi8.png)

ä»Šå¤©è‚çš„è¿™ç¯‡æ–‡ç« ï¼Œä»‹ç»äº† Git ä¸­çš„ merge å’Œ rebase çš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ï¼ŒåŒæ—¶ï¼Œåˆè‡ªå·±æ‰‹åŠ¨ç»˜åˆ¶äº†å›¾ï¼ä¿—è¯è¯´ï¼Œä¸€å›¾èƒœåƒè¨€ï¼Œä½†å†™å®Œæ‰å‘ç°ï¼Œæ˜¯çœŸçš„è€—æ—¶å•Šâ€¦â€¦ä¸è¿‡ï¼Œæ€»ç»“ç»˜å›¾çš„è¿‡ç¨‹ï¼Œè‡ªå·±ä¹ŸåŠ æ·±äº†ç†è§£ï¼Œæœ‰äº›æ¦‚å¿µä¹Ÿå˜å¾—æ›´åŠ æ¸…æ™°äº†ï¼å¸Œæœ›ï¼Œæˆ‘çš„æ€»ç»“ä¹Ÿèƒ½è®©å…¶ä»–äººè¯»æ‡‚~

ä¹‹å‰æˆ‘ç»å¸¸ä¼šå¼€å¯æ–‡ç« çš„ã€Œèµèµã€ï¼Œä½†å‘ç°æ”¶æ•ˆç”šå¾®ï¼Œå¾ˆå°‘æœ‰å°ä¼™ä¼´ä¼šæ‰“èµã€‚åæ¥æˆ‘å°±æ¯æ¬¡å‘æ–‡å°±å…³é—­äº†è¿™ä¸ªé€‰é¡¹ã€‚æœ¬æ–‡åº”è¯¥æ˜¯ 6 æœˆä»½çš„ã€Œæœˆæœ«æ€»ç»“ã€äº†ï¼Œå°±å¼€å¯ä¸€æ¬¡ã€Œæœˆæœ«èµèµã€å§ï¼æœŸå¾…å°ä¼™ä¼´çš„æ”¯æŒä¸é¼“åŠ±ï¼

## å‚è€ƒ

æˆ‘å°†æœ¬æ–‡çš„å‚è€ƒæ–‡ç« ä¹Ÿéƒ½æ³¨æ˜äº†ï¼Œä»–ä»¬ä¹Ÿéƒ½å¾ˆæœ‰é˜…è¯»çš„ä»·å€¼ã€‚ä½†ç”±äºå¾®ä¿¡å¤–é“¾çš„ç¼˜æ•…ï¼Œå¯ä»¥ç‚¹å‡»å³ä¸‹è§’çš„ã€Œé˜…è¯»åŸæ–‡ã€æµè§ˆï¼

- [StackoverFlow-What is the difference between `git merge` and `git merge --no-ff`?](https://stackoverflow.com/questions/9069061/what-is-the-difference-between-git-merge-and-git-merge-no-ff)
- [git-scm-git-merge](https://git-scm.com/docs/git-merge)
- [åˆ†æ”¯çš„åˆå¹¶](https://backlog.com/git-tutorial/cn/stepup/stepup1_4.html)
- [Gitlab-Fast-forward merge requests](https://docs.gitlab.com/ee/user/project/merge_requests/fast_forward_merge.html)
- [é¢œæµ·é•œ-å›¾è§£4ç§gitåˆå¹¶åˆ†æ”¯æ–¹æ³•](https://yanhaijing.com/git/2017/07/14/four-method-for-git-merge/)
- [Sync with a remote Git repository (fetch, pull, update)](https://www.jetbrains.com/help/idea/sync-with-a-remote-repository.html#update) IDEA çš„å¸®åŠ©æ–‡æ¡£

----

> ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ï¼å…³æ³¨ ã€ŒCoder é­”æ³•é™¢ã€ï¼Œç¥ä½  Niubilitiy ï¼ğŸ‚ğŸº